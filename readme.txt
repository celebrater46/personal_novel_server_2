Personal Nover Server についてあれこれ

##############################################
利用規約とか
##############################################

当プログラムは富士見永人が個人の小説公開向けに開発したものであり、極めてシンプルなWEBサーバープログラムです。

MITライセンスでの配布となります。
著作権表示とライセンス表示をしていただければ改変、再配布してくださって構いません。
当プログラムを使用して発生した如何なる問題にも作者は責任を負いません。
詳しくはMITライセンスでググってください。
　
本プログラムの利用を開始した時点で規約に同意したとみなされます。
　
バグなどの不具合報告があれば可能な範囲で対応する予定ですが、多忙につき保障はできません。
極めてシンプルかつ短期間でインスタント開発されているため、フォルダ名を変えたりリストの書き方を間違えたりすると容赦なくバグります。

サンプル小説、画像の著作権は放棄してません。
保存、鑑賞は自由ですが、無断転載とかはしないでください。


##############################################
使い方
##############################################

サンプルを参考に、novels フォルダの直下に作品名（アルファベット推奨）のフォルダを作ります。
作品名フォルダの中に「txts」フォルダと「list.txt」「caption.txt」「chapters.txt（なくてもいい）」を作ります。

「novels」フォルダ直下の「novels_list.txt」は作品名の一覧リストです。
「作品名|フォルダ名」という具合に、間を半角の縦棒で区切って書いていきます。次の作品名を追加するには、改行してください。
なお、txtファイル名を変更すると簡単にバグります。

各作品フォルダの中にある「list.txt」は各話のファイル名とサブタイトルを入力します。
「章番号（1から始まる半角数字）|txtsフォルダ内のファイル名（拡張子なし）|サブタイトル」という具合に、
間を半角の縦棒で区切って書いていきます。次のサブタイトル名を追加するには、改行します。
なお、ファイル名を変更するといとも簡単にバグります。

各作品フォルダの中にある「chapters.txt」には、各章のタイトルを入れます。
一行を1タイトルと認識します。
第一章「日本編」、とかそんなかんじのやつです。
章タイトルなんかいらねーよって場合は、作らなければ各話のサブタイトルだけ表示されます。
ファイル名を変更すると「章題ないんだな」って判断されます。

各作品フォルダの中にある「caption.txt」には、作品のあらすじを書きます。
これもファイル名を変更したり、ファイルが存在しなかったりするとバグります。
あらすじを公開するのは義務なんです。

各作品フォルダの中にある「txts」フォルダの中に、各話の.txtファイルを入れます。
list.txt の左から二番めのファイル名に合わせないとバグります。
最初の一行目から最後の行まで律儀に全部閲覧ページに表示されます。

ルビの指定に関しては小説家になろうとかカクヨムとかで使われてる方式が使えます（こういうの -> ｜堕天男《ルシファー》）。
また、《《》》内の各文字に傍点がルビとして追加されます。

HTMLタグにも対応しています。


v2.0 より、長編小説などをひとつのテキストファイルでまとめて管理でき、
かつ自動で分割して各リストを更新する機能を実装しました。

各サンプル作品フォルダの中にある「unified.txt」という統合ファイルを参考に、
タイトルを <Title></Title> というタグで、
章題を <Chapter></Chapter>
サブタイトルを <Sub></Sub> というタグで囲って記入します。
（なお、統合ファイル名は必ず「unified.txt」である必要があります）

また、<Break /> というタグを入れると、そこがひとつの話の区切りとなり、
テキストファイルが txts フォルダの中に分割して生成されます。

統合テキスト「unified.txt」を自動分割するには、
まずプロジェクトフォルダ直下にある「update.php」にアクセスします。
すると、「Update Text」というページが表示されると思います。

Title(EN) の横にある空白欄に、分割したい作品の英名、
つまり管理してるフォルダ名を入力してください。
拙作「白金記」なら「shiroganeki」というフォルダ名になります。

となりにある Update! というボタンをクリックすると、
結果が表示されます。
Separated: と表示されれば分割成功です。



##############################################
Setting.txt について
##############################################

小説の一覧ページを独自に用意したい場合、
Setting.txt の「index_path」にディレクトリを書き込みます。
何も書かなければ、index.php が自動的に読み込まれます。

独自で作ったページに、
「[DIRECTORY]/PersonalNovelServer/ep_list.php?novel=[番号]」
といった具合に、novel_list.txt の順番に合うように
リンクを貼ります。

リンクが合っていれば、独自ページから
当アプリの ep_list.php すなわち小説の各エピソードの
一覧ページに飛ぶことができます。

また、ep_list.php の「小説一覧に戻る」のリンク先が
指定の独自ページになります。



##############################################
更新履歴
##############################################

2022.3.21:
v2.0 を公開。
フォント変更、フォントサイズ変更、背景色、横書き縦書き切り替え機能追加。
独自タグでまとめた長編小説の .txt ファイルを自動で分割し、
章リストとエピソードリストを自動生成する機能を追加。

2022.1.20:
v1.0 を公開。



############################################################################################
############################################################################################
About Personal Novel Server (PNS)

##############################################
Terms of service
##############################################

This "Personal Novel Server (PNS)" is the App that I "Enin Fujimi" developed for exhibition my novels.

PNS is MIT license.
If specify a copyright, you can edit PNS and give it out on the Web.
I never take responsibility even if PNS leads any troubles.

I regard you accept this agreement as you start to use PNS.

If you find any bug, tell me it. I will fix the bugs, but I don't know when it resolves.

PNS is very simple and being developed quickly.
If you change any folder name or mistake the syntax of each TXT files, PNS will be not working. Be careful.


Copyright (C) Enin Fujimi All Rights Reserved.